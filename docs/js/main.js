import{valorInicial,filtrarAlteraciones}from"./ui.js";import{nombreAcorde,obtenerNotasActuales,generarNombreAcorde}from"./logic.js";import{reproducirArpegioMixto}from"./sound.js";import{enviarEventoGA}from"./gtag-events.js";import{inicializarMenuHamburguesa}from"./menu.js";inicializarMenuHamburguesa(),window.addEventListener("DOMContentLoaded",()=>{valorInicial(),filtrarAlteraciones(),nombreAcorde();["tonos","alteracion","alteracionM"].forEach(e=>{document.getElementById(e).addEventListener("change",o=>{"tonos"===e&&filtrarAlteraciones(),nombreAcorde();const r=o.target.value;"tonos"===e?enviarEventoGA("cambio_tono","interaccion_usuario",null,null,{tono_seleccionado:r}):"alteracion"===e?enviarEventoGA("cambio_tipo_acorde","interaccion_usuario",null,null,{tipo_seleccionado:r}):"alteracionM"===e&&enviarEventoGA("cambio_modo","interaccion_usuario",null,null,{modo_seleccionado:r})})});const e=document.getElementById("playChordBtn");let o=!1;e.addEventListener("click",()=>{if(o)return;const r=obtenerNotasActuales();if(0===r.length)return;o=!0,e.disabled=!0,reproducirArpegioMixto(r);const n=generarNombreAcorde();enviarEventoGA("reproducir_acorde","interaccion_usuario",r.join(", "),r.length,{acorde_nombre:n}),setTimeout(()=>{o=!1,e.disabled=!1},3100)})}),document.querySelectorAll(".footer-links a").forEach(e=>{e.addEventListener("click",()=>{const o=e.getAttribute("aria-label");o&&enviarEventoGA(`click_${o.toLowerCase()}`,"redes_sociales",o)})});